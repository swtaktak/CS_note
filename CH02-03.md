# Chapter 2 - 3 CPU

## 레지스터
- CPU안에 있는 작은 임시 저장장치
- 레지스터의 종류
  - 프로그램 카운터(PC) : 메모리에서 다음으로 읽어 들일 명령어의 주소
  - 명령어 레지스터(IR) : 해석할 명령어 -> ALU를 통해 연산 or 타 부품으로 제어 신호 보내기 등 수행
  - 범용 레지스터 : 일반적 상황에서 자유롭게 사용하는 레지스터
  - 플래그 레지스터 : 연산의 결과나, CPU 상태에 대한 부가 정보인 플래그 제공.
  
## 인터럽트
- CPU의 작업을 방해하는 신호를 인터럽트라고 함
  - 동기 인터럽트 : CPU에 의해 발생하는 인터럽트 (프로그래밍 오류 등)
  - 비동기 인터럽트 : 입출력장치에 의해 발생하는 인터럽트 
    - 하드웨어 인터럽트 라고도 함.

### 하드웨어 인터럽트
- CPU는 효율적으로 명령어를 처리하기 위해 하드웨어 인터럽트 사용
  - 예시로, 프린트를 요청하면 프린터가 프린트 끝낼때까지 그냥 기다리는게 아님. 그동안 다른 일 함
    1) 입출력장치는 CPU에게 인터럽트 요청 신호를 보냄
    2) CPU는 실행 사이클이 끝나고 명령어를 인출하기 전, 인터럽트 여부 확인
    3) 인터럽트 플래그를 통해 현재 인터럽트를 받을 수 있나 확인
    4) 받을 수 있다면 CPU는 지금까지의 작업을 백업
    5) 인터럽트 백업을 참조 인터럽스 서비스 루틴 실행
    6) 서비스 루틴 실행이 끝나면 4)에서 백업해둔 작업 복구, 실행 재개
- 인터럽트 서비스 루틴 : 인터럽트가 발생하면 어떻게 행동해야 하는가?
- 인터럽트 벡터 : 각각의 서비스 루틴을 식별하기 위한 정보
  - 서비스 루틴의 시작 정보를 포함 -> CPU는 처음부터 특정 인터럽트 서비스 루틴 실행 가능
- 백업 : 인터럽트 서비스 루틴 실행 전,  프로그램 카운터 값 등 현재 프로그램 재개를 위해 필요한 모든 내용을 스택에 저장.
- Remark / 폴링
  - 입출력장치의 상태가 어떤지, 처리할 데이터가 있는지 주기적으로 확인하는 것으로 인터럽트와 대비되는 개념.

## CPU 성능 관련 용어
- 클럭 : 컴퓨터의 부품을 움직일 수 있게 하는 시간위 단위(Hz) -> CPU의 속도
  - 클럭 속도가 너무 높으면 발열 심해질 수 있음!
- 멀티코어 : CPU가 여러개!
- 하드웨어 스레드 : 하나의 코어가 동시에 처리하는 명령어의 단위/ 한번에 몇개 처리함?
  - 즉 실행하는 부품이 2개인데, 한 번에 4개의 명령어를 처리하면 듀얼코어 4스레드 CPU
  - 하드웨어 스레드는 병렬성 구현의 단위,  즉 작업을 동시에 물리적으로 처리하는지 판단
- 소프트웨어 스레드 : 하나의 프로그램에서 독립적으로 실행되는 단위
  - 소프트웨어 스레드는 동시성 구현을 위한 논리적 실행 단위
  - 동시성 : 동시에 작업을 처리하는 것처럼 보이는 성질,  물리적으로 같은 시점에 여러 작업 동시 처리는 X. 눈에만 그렇게 보임